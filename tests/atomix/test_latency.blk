#include <externals.blk> 

fun comp slow() {
var a : arr[1000] int16;
  repeat{
    x <- takes 1000;
    do{a[0] := sleep_int16(x[0], 100)};
    emits a;
  }
}


fun comp fast() {
var a : arr[1000] int16;
  repeat{
    x <- takes 100;
    do{a[0] := sleep_int16(x[0], 10)};
    emits a; 
  }
}


let comp main = read >>> standalone[0]{slow()} |>>>| standalone[1]{fast()} >>> write;

